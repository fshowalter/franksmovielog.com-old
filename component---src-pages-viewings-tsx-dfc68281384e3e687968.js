(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1/Ks":function(e,t,n){"use strict";n("EU/P")("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},"869m":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E})),n.d(t,"query",(function(){return W}));n("q8oJ"),n("cFtU"),n("m210"),n("4DPX"),n("Ll4R"),n("E5k/"),n("cxuS"),n("pJf4"),n("klQ5"),n("sC2a"),n("rzGZ"),n("Dq+y"),n("8npG"),n("YbXK"),n("ToIb"),n("zGcK");var i=n("wTIg"),r=n("LvDl"),a=n("wd/R"),o=n.n(a),l=n("q1tI"),c=n.n(l),s=n("qKvR"),d=n("soUV");function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var f=Object(i.a)("div",{target:"ef9ptpl0"})({name:"2ishhi",styles:"margin-bottom:35px;"}),g=Object(i.a)("label",{target:"ef9ptpl1"})({name:"qj8zvt",styles:"color:#222;display:block;font-size:15px;font-weight:normal;letter-spacing:0.5px;line-height:2.2;"}),b=Object(i.a)("div",{target:"ef9ptpl2"})({name:"eayoje",styles:"border:1px solid #eee;border-left:none;border-right:none;transition:opacity 0.3s ease;@media only screen and (min-width:48em){border:none;border-right:solid 1px #eee;}"}),m=Object(i.a)("h2",{target:"ef9ptpl3"})({name:"n13gjb",styles:"border-bottom:1px solid var(--color-primary);display:block;font-size:19px;font-weight:normal;margin:0 0 20px;padding:20px;position:relative;text-decoration:none;@media only screen and (min-width:48em){padding:20px 0;}"}),h=Object(i.a)("div",{target:"ef9ptpl4"})({name:"1142lu9",styles:"padding:0 20px;@media only screen and (min-width:48em){padding:0 50px 20px 0;}"}),v=Object(i.a)("input",{target:"ef9ptpl5"})({name:"1q0ib8f",styles:'backface-visibility:hidden;background-color:#fff;border:0;border-radius:0;box-sizing:border-box;color:var(--color-text-secondary);display:block;font-family:var(--font-family-system);font-size:16px;padding:0;width:100%;::placeholder{color:rgba(0,0,0,0.54);font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:14px;font-weight:normal;}'}),y=Object(i.a)("div",{target:"ef9ptpl6"})({name:"38m8pn",styles:"border-bottom:solid 1px #eee;margin-bottom:8px;padding-bottom:7px;"}),w=Object(i.a)("select",{target:"ef9ptpl7"})({name:"ay64lc",styles:'appearance:none;backface-visibility:hidden;background-color:#fff;border:0;border-radius:0;box-sizing:border-box;color:rgba(0,0,0,0.54);display:block;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:15px;padding:0;text-indent:0.01px;text-overflow:"";width:100%;'});function x(e){var t=e.label,n=e.children,i=[Object(s.c)("option",{key:"all"},"All")].concat(u(n.map((function(e){var t=e[0],n=e[1];return Object(s.c)("option",{key:n,value:n},t)}))));return Object(s.c)(f,null,Object(s.c)(g,{htmlFor:t},t),Object(s.c)(w,null,i))}function j(e){var t=e.label,n=e.state,i=(e.setState,u(new Set(n.viewings.map((function(e){return e.date.substring(0,4)})))).sort().map((function(e){return[e,e]})));return Object(s.c)(x,{label:t},i)}function O(e){var t=e.label,n=e.placeholder,i=e.onChange;function r(e){var t,n=new RegExp((void 0===(t=e)&&(t=""),t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")),"i");console.log("change"),console.log(Date.now()),i("title",(function(e){return n.test(e.movie.title)}))}return Object(s.c)(f,null,Object(s.c)(g,{htmlFor:t},t),Object(s.c)(y,null,Object(s.c)(v,{name:t,placeholder:n,onChange:function(e){return r(e.target.value)}})))}function U(e){var t=e.name,n=e.children,i=e.target;return Object(s.c)(f,null,Object(s.c)(g,{htmlFor:t},t),Object(s.c)(w,{name:t,"data-sorter":n[0][1],"data-target":i},n.map((function(e){var t=e[0],n=e[1];return Object(s.c)("option",{key:t,value:n},t)}))))}function k(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w-]+/g,"")}function S(e){var t=e.state,n=e.setState,i=e.heading,a={},o=Object(r.debounce)((function(){console.log("debouncenew"),console.log(Date.now());var e=t.viewings.map((function(e){var t=!Object.values(a).some((function(t){return!t(e)}));return Object.assign(Object.assign({},e),{},{match:t})}));n(Object.assign(Object.assign({},t),{},{viewings:e}))}),50,{leading:!1,trailing:!0}),l=t.viewings.map((function(e){return e.movie.year})).sort(),c=l[0],d=l[l.length-1],p=u(new Set(t.viewings.map((function(e){return e.venue})))).sort().map((function(e){return[e,k(e)]}));return Object(s.c)(b,{"data-filter-controls":!0,"data-target":"#viewings"},Object(s.c)(m,null,i),Object(s.c)(h,null,Object(s.c)(O,{onChange:function(e,t){a[e]=t,console.log("filterChange"),o()},label:"Title",placeholder:"Enter all or part of a title."}),Object(s.c)(R,{name:"Release Year",attribute:"data-release-date",min:c,max:d}),Object(s.c)(j,{label:"Viewing Year",state:t,setState:n}),Object(s.c)(x,{label:"Via"},p),Object(s.c)(U,{name:"Order By",target:"#viewings"},[["Viewing Date (Newest First)","viewing-date-desc"],["Viewing Date (Oldest First)","viewing-date-asc"],["Release Date (Newest First)","release-date-desc"],["Release Date (Oldest First)","release-date-asc"],["Title","sort-title-asc"]])))}var z=Object(i.a)("div",{target:"ef9ptpl8"})({name:"113l681",styles:"display:flex;flex-flow:row wrap;justify-content:space-around;.noUi-target *{background-color:rgba(0,0,0,0.02);box-sizing:border-box;cursor:default;touch-action:none;-webkit-touch-callout:none;transition:transform 0.3s ease-in-out;user-select:none;}.noUi-active{background-color:#eaeaea;box-shadow:inset 0 0 5px #222;}.noUi-state-drag .noUi-active{transform:scale(1.25);}.noUi-base{background:rgba(0,0,0,0.02);border-bottom:solid 0.5rem #fff;border-top:solid 0.5rem #fff;height:2rem;margin:auto 0.8rem;position:relative;@media only screen and (min-width:35em){border-color:#fff;}}.noUi-handle{background-color:#fff;border:1px solid rgba(0,0,0,0.54);border-radius:50%;height:2rem;left:-1rem;position:relative;top:-0.5rem;width:2rem;z-index:1;}.noUiSlider{flex:1 100%;}.noUi-origin{border-radius:inherit;bottom:0;position:absolute;right:0;top:0;}.noUi-stacking .noUi-handle{z-index:10;}"}),N={name:"1jfph28",styles:'appearance:textfield;background-color:#fff;border:0;box-sizing:content-box;color:rgba(0,0,0,0.54);font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:14px;line-height:1.2rem;padding:0;width:25%;&::-webkit-inner-spin-button{appearance:none;margin:0;}width:3rem;@media (min-width:50em){height:1.4rem;line-height:1.4rem;}'},P=Object(i.a)("input",{target:"ef9ptpl9"})(N," margin-right:auto;"),F=Object(i.a)("input",{target:"ef9ptpl10"})(N," align-self:flex-start;text-align:right;");function R(e){var t=e.name,n=e.attribute,i=e.min,r=e.max;return Object(s.c)(f,null,Object(s.c)(g,{htmlFor:t},t),Object(s.c)(z,{"data-filter-attribute":n,"data-filter-type":"range","data-filter-min-value":i,"data-filter-max-value":r},Object(s.c)("div",{className:"noUiSlider noUi-target"},Object(s.c)("div",{className:"noUi-base noUi-background noUi-horizontal"},Object(s.c)("div",{className:"noUi-origin noUi-origin-lower",style:{left:"0%"}},Object(s.c)("div",{className:"noUi-handle noUi-handle-lower"})),Object(s.c)("div",{className:"noUi-origin noUi-origin-upper",style:{left:"100%"}},Object(s.c)("div",{className:"noUi-handle noUi-handle-upper"})))),Object(s.c)(P,{type:"number",defaultValue:i,min:i,max:r,step:"1",className:"filter-numeric min"}),Object(s.c)(F,{type:"number",defaultValue:r,min:i,max:r,step:"1",className:"filter-numeric max"})))}var A=Object(i.a)("header",{target:"ef9ptpl11"})({name:"19ud7g2",styles:"padding:20px;@media only screen and (min-width:48em){padding:10px 0 20px;text-align:left;}@media only screen and (min-width:71.24em){padding-top:0;}"}),D=Object(i.a)("h1",{target:"ef9ptpl12"})({name:"1096o21",styles:"line-height:60px;margin-bottom:0;"}),M=Object(i.a)("div",{target:"ef9ptpl13"})({name:"1ojuppu",styles:"color:rgba(0,0,0,0.54);font-size:15px;line-height:20px;margin-bottom:0;"});function q(e){var t=e.title,n=e.slug;return Object(s.c)(A,null,Object(s.c)(D,null,t),Object(s.c)(M,null,n))}var V=Object(i.a)("ol",{target:"ef9ptpl14"})({name:"1u0i1kf",styles:"margin:0 0 35px;padding:0;"}),I=Object(i.a)("li",{target:"ef9ptpl15"})({name:"1icnez7",styles:'font-weight:normal;list-style-type:none;padding:0;position:relative;&:after{background-color:#eee;bottom:0;content:"";display:block;height:1px;left:20px;margin:0;position:absolute;right:0;}'}),C=c.a.memo((function(e){var t,n=e.viewing,i=n.match?void 0:{display:"none"};return Object(s.c)(I,{style:i},Object(s.c)(H,null,n.movie.title," (",n.movie.year,")"),Object(s.c)(L,null,(t=n,o()(t.date).format("dddd MMM D, YYYY")+" via "+t.venue+".")))})),H=Object(i.a)("div",{target:"ef9ptpl16"})({name:"1j15u5z",styles:"display:block;font-size:18px;line-height:40px;overflow:hidden;padding:20px 20px 0;text-overflow:ellipsis;white-space:nowrap;"}),L=Object(i.a)("div",{target:"ef9ptpl17"})({name:"v8qv7w",styles:"color:rgba(0,0,0,0.38);font-size:15px;line-height:20px;padding:0 20px 20px;text-rendering:optimizeLegibility;"}),T=Object(i.a)("div",{target:"ef9ptpl18"})({name:"p3k0z",styles:"@media only screen and (min-width:48em){border-top:solid 1px #eee;display:flex;margin:0 auto;width:700px;}@media only screen and (min-width:71.24em){width:900px;}"}),Y=Object(i.a)("div",{target:"ef9ptpl19"})({name:"1g3rfh0",styles:"@media only screen and (min-width:48em){width:250px;}@media only screen and (min-width:71.24em){width:340px;}"}),K=Object(i.a)("div",{target:"ef9ptpl20"})({name:"9dkdgv",styles:"@media only screen and (min-width:48em){padding-left:30px;width:420px;}@media only screen and (min-width:71.24em){width:540px;}"});function B(e){var t=e.children;return Object(s.c)(T,null,t)}function E(e){var t=e.data,n=t.allViewing.nodes.map((function(e){return Object.assign(Object.assign({},e),{},{match:!0})})),i=t.allViewing.nodes.map((function(e){return e.sequence})),r=c.a.useState({viewings:n,ids:i}),a=r[0],o=r[1];return Object(s.c)(d.b,null,Object(s.c)(q,{title:"Viewing Log",slug:"I've watched "+t.allViewing.nodes.length+" movies since 2012"}),Object(s.c)(B,null,Object(s.c)(Y,null,Object(s.c)(S,{state:a,setState:o,heading:"Filter and Sort"})),Object(s.c)(K,null,Object(s.c)(V,{id:"viewings"},a.viewings.map((function(e){return Object(s.c)(C,{key:e.sequence+"-"+e.imdbId,viewing:e})}))))))}var W="1768870983"},HQAx:function(e,t,n){"use strict";var i=n("P8UN"),r=n("ewoU"),a=n("DFzH"),o=n("kiRH"),l=n("nONw"),c=n("ytzU");i(i.P,"Array",{flatMap:function(e){var t,n,i=a(this);return l(e),t=o(i.length),n=c(i,0),r(n,i,i,t,0,1,e,arguments[1]),n}}),n("Dq1/")("flatMap")},I17o:function(e,t,n){"use strict";var i=n("P8UN"),r=n("pTxf"),a=n("CL53"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);i(i.P+i.F*o,"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},Rw9D:function(e,t,n){"use strict";var i=n("P8UN"),r=n("/+AL");i(i.P+i.F*!n("h/qr")([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},TAD1:function(e,t,n){"use strict";var i=n("P8UN"),r=n("kiRH"),a=n("YdGP"),o="".startsWith;i(i.P+i.F*n("h+B4")("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return o?o.call(t,i,n):t.slice(n,n+i.length)===i}})},"Y++M":function(e,t,n){"use strict";var i=n("DFzH"),r=n("dTG6"),a=n("kiRH");e.exports=function(e){for(var t=i(this),n=a(t.length),o=arguments.length,l=r(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,s=void 0===c?n:r(c,n);s>l;)t[l++]=e;return t}},ZiRl:function(e,t,n){var i=n("P8UN");i(i.P,"String",{repeat:n("gd4K")})},cxuS:function(e,t,n){var i=n("P8UN"),r=n("ys0W")(!1);i(i.S,"Object",{values:function(e){return r(e)}})},ewoU:function(e,t,n){"use strict";var i=n("tuyV"),r=n("BjK0"),a=n("kiRH"),o=n("ot9L"),l=n("sOol")("isConcatSpreadable");e.exports=function e(t,n,c,s,d,u,p,f){for(var g,b,m=d,h=0,v=!!p&&o(p,f,3);h<s;){if(h in c){if(g=v?v(c[h],h,n):c[h],b=!1,r(g)&&(b=void 0!==(b=g[l])?!!b:i(g)),b&&u>0)m=e(t,n,g,a(g.length),m,u-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=g}m++}h++}return m}},gd4K:function(e,t,n){"use strict";var i=n("1Llc"),r=n("ap2Z");e.exports=function(e){var t=String(r(this)),n="",a=i(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},lizw:function(e,t,n){"use strict";var i=n("P8UN"),r=n("pTxf"),a=n("CL53"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);i(i.P+i.F*o,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},n0hJ:function(e,t,n){var i=n("P8UN");i(i.P,"Array",{fill:n("Y++M")}),n("Dq1/")("fill")},pTxf:function(e,t,n){var i=n("kiRH"),r=n("gd4K"),a=n("ap2Z");e.exports=function(e,t,n,o){var l=String(a(e)),c=l.length,s=void 0===n?" ":String(n),d=i(t);if(d<=c||""==s)return l;var u=d-c,p=r.call(s,Math.ceil(u/s.length));return p.length>u&&(p=p.slice(0,u)),o?p+l:l+p}},v9g0:function(e,t,n){"use strict";var i=n("P8UN"),r=n("Wadk")(5),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),i(i.P+i.F*a,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("Dq1/")("find")},ys0W:function(e,t,n){var i=n("QPJK"),r=n("2mBY"),a=n("5SQf"),o=n("BnbX").f;e.exports=function(e){return function(t){for(var n,l=a(t),c=r(l),s=c.length,d=0,u=[];s>d;)n=c[d++],i&&!o.call(l,n)||u.push(e?[n,l[n]]:l[n]);return u}}}}]);
//# sourceMappingURL=component---src-pages-viewings-tsx-dfc68281384e3e687968.js.map